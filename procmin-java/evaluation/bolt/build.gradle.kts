/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details on building Java & JVM projects, please refer to https://docs.gradle.org/8.5/userguide/building_java_projects.html in the Gradle documentation.
 */

plugins {
    id("de.rwth.procmin.tb.java-app")
}

group = "${group}.evaluation"

dependencies {
    // Dependencies copied from Ivy file
    implementation(group = "prom", name = "ProM-Framework", version = "latest", configuration = "default")
    implementation(group = "prom", name = "ProM-Plugins", version = "latest", configuration = "default")
    implementation(group = "prom", name = "Log", version = "latest", configuration = "default")
    implementation(group = "prom", name = "BasicUtils", version = "latest", configuration = "default")
    implementation(group = "prom", name = "GraphViz", version = "latest", configuration = "default")
    implementation(group = "prom", name = "Widgets", version = "latest", configuration = "default")
    implementation(group = "prom", name = "TransitionSystems", version = "latest", configuration = "default")
    implementation(group = "prom", name = "DataDiscovery", version = "latest", configuration = "default")
    implementation(group = "prom", name = "Weka", version = "latest", configuration = "default")
}

application {
    // Define the main class for the application.
    // UI mode
    mainClass = "org.processmining.contexts.uitopia.UI"
    applicationDefaultJvmArgs = listOf("-ea", "-Xmx8G", "-Djava.library.path=C:/Users/brockhoff/.ProM/packages/lpsolve-5.5.4/lib/win64", "-Djava.util.Arrays.useLegacyMergeSort=true", "-Djava.system.class.loader=org.processmining.processcomparator.tbutils.MyProMDebugClassLoader", "--add-opens", "java.base/java.net=ALL-UNNAMED")
}

tasks.register<JavaExec>("runCLI") {
  group = "myCustomTasks"
  classpath = sourceSets["main"].runtimeClasspath
  mainClass = "org.processmining.contexts.cli.CLI"
  jvmArgs = listOf("-ea", "-Xmx8G", "-Djava.util.Arrays.useLegacyMergeSort=true", "-Djava.system.class.loader=org.processmining.processcomparator.tbutils.MyProMDebugClassLoader", "--add-opens", "java.base/java.net=ALL-UNNAMED")
  args = listOf("-f", "cli-scripts/run-evaluation-plugin.txt")
}
